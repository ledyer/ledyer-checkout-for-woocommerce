{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/js/ledyer-checkout-for-woocommerce.js"],"names":["jQuery","$","lco_params","lco_wc","bodyEl","checkoutFormSelector","paymentMethodEl","paymentMethod","selectAnotherSelector","shippingUpdated","blocked","preventPaymentMethodChange","timeout","interval","ledyerUpdateNeeded","shippingEmailExists","shippingPhoneExists","shippingFirstNameExists","shippingLastNameExists","documentReady","length","filter","val","prop","pay_for_order","moveExtraCheckoutFields","lcoSuspend","window","ledyer","api","suspend","lcoResume","resume","changeFromLco","e","preventDefault","block","message","overlayCSS","background","opacity","ajax","type","dataType","data","lco","nonce","change_payment_method_nonce","url","change_payment_method_url","success","error","complete","location","href","responseJSON","redirect","maybeChangeToLco","remove","document","querySelectorAll","querySelector","appendTo","form","checkout_add_ons_moved","i","name","replace","find","inArray","standard_woo_checkout_fields","parent","attr","closest","updateCart","update_cart_url","checkout","cleanupForm","update_cart_nonce","trigger","getLedyerOrder","get_ledyer_order_url","get_ledyer_order_nonce","setCustomerData","billing_address","billing_first_name","billing_last_name","billing_company","billing_address_1","billing_address_2","billing_city","billing_postcode","billing_phone","billing_email","billing_country","toUpperCase","billing_state","change","blur","shipping_address","shipping_first_name","shipping_last_name","shipping_company","shipping_address_1","shipping_address_2","shipping_city","shipping_postcode","shipping_country","shipping_state","shipping_email","shipping_phone","logToFile","log_to_file_url","log_to_file_nonce","log","logging","console","failOrder","error_message","arguments","undefined","alert","clientValidation","shouldProceed","title","body","className","alert_message","error_div","concat","prepend","removeClass","unblock","animate","scrollTop","offset","top","formElement","$inputs","$inputsWithValue","serializedData","serialize","placeLedyerOrder","should_validate","done","response","sessionStorage","removeItem","submit_order","result","URL","setItem","toString","err","messages","JSON","stringify","init","ready","on","event","redirectUrl","getItem"],"mappings":"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","file":"ledyer-checkout-for-woocommerce.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/content/plugins/ledyer-checkout-for-woocommerce/build/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./assets/js/ledyer-checkout-for-woocommerce.js\");\n","/* global lco_params */\n\njQuery(function ($) {\n\n    // Check if we have params.\n    if ('undefined' === typeof lco_params) {\n        return false;\n    }\n\n    var lco_wc = {\n        bodyEl: $('body'),\n        checkoutFormSelector: $('form.checkout'),\n\n        // Payment method.\n        paymentMethodEl: $('input[name=\"payment_method\"]'),\n        paymentMethod: '',\n        selectAnotherSelector: '#ledyer-checkout-select-other',\n\n        // Form fields.\n        shippingUpdated: false,\n        blocked: false,\n\n        preventPaymentMethodChange: false,\n\n        timeout: null,\n        interval: null,\n\n        // True or false if we need to update the Ledyer order. Set to false on initial page load.\n        ledyerUpdateNeeded: false,\n        shippingEmailExists: false,\n        shippingPhoneExists: false,\n        shippingFirstNameExists: false,\n        shippingLastNameExists: false,\n\n        /**\n         * Triggers on document ready.\n         */\n        documentReady: function () {\n            if (0 < lco_wc.paymentMethodEl.length) {\n                lco_wc.paymentMethod = lco_wc.paymentMethodEl.filter(':checked').val();\n            } else {\n                lco_wc.paymentMethod = 'lco';\n            }\n\n            if ('lco' === lco_wc.paymentMethod) {\n                $('#ship-to-different-address-checkbox').prop('checked', true);\n            }\n\n            if (!lco_params.pay_for_order) {\n                lco_wc.moveExtraCheckoutFields();\n            }\n        },\n\n        /**\n         * Suspends the Ledyer Iframe\n         */\n        lcoSuspend: function () {\n            if (window.ledyer) {\n                window.ledyer.api.suspend();\n            }\n        },\n\n        /**\n         * Resumes the LCO Iframe\n         */\n        lcoResume: function () {\n            if (window.ledyer) {\n                window.ledyer.api.resume();\n            }\n        },\n\n        /**\n         * When the customer changes from LCO to other payment methods.\n         * @param {Event} e\n         */\n        changeFromLco: function (e) {\n            e.preventDefault();\n\n            $(lco_wc.checkoutFormSelector).block({\n                message: null,\n                overlayCSS: {\n                    background: '#fff',\n                    opacity: 0.6\n                }\n            });\n\n            $.ajax({\n                type: 'POST',\n                dataType: 'json',\n                data: {\n                    lco: false,\n                    nonce: lco_params.change_payment_method_nonce\n                },\n                url: lco_params.change_payment_method_url,\n                success: function (data) { },\n                error: function (data) { },\n                complete: function (data) {\n                    window.location.href = data.responseJSON.data.redirect;\n                }\n            });\n        },\n\n        /**\n         * When the customer changes to LCO from other payment methods.\n         */\n        maybeChangeToLco: function () {\n            if (!lco_wc.preventPaymentMethodChange) {\n\n                if ('lco' === $(this).val()) {\n                    $('.woocommerce-info').remove();\n\n                    $(lco_wc.checkoutFormSelector).block({\n                        message: null,\n                        overlayCSS: {\n                            background: '#fff',\n                            opacity: 0.6\n                        }\n                    });\n\n                    $.ajax({\n                        type: 'POST',\n                        data: {\n                            lco: true,\n                            nonce: lco_params.change_payment_method_nonce\n                        },\n                        dataType: 'json',\n                        url: lco_params.change_payment_method_url,\n                        success: function (data) { },\n                        error: function (data) { },\n                        complete: function (data) {\n                            window.location.href = data.responseJSON.data.redirect;\n                        }\n                    });\n                }\n            }\n        },\n\n        /**\n         * Moves all non standard fields to the extra checkout fields.\n         */\n        moveExtraCheckoutFields: function () {\n            if (document.querySelectorAll(\"#order_comments_field\").length > 1) {\n                document.querySelector(\"#order_comments_field\").remove();\n            }\n\n\n            // Move order comments.\n            $('.woocommerce-additional-fields').appendTo('#lco-extra-checkout-fields');\n            var form = $('form[name=\"checkout\"] input, form[name=\"checkout\"] select, textarea');\n            var checkout_add_ons_moved = false;\n            for (i = 0; i < form.length; i++) {\n                var name = form[i].name.replace('[]', '\\\\[\\\\]'); // Escape any empty \"array\" keys to prevent errors.\n                // Check if field is inside the order review.\n                if ($('table.woocommerce-checkout-review-order-table').find(form[i]).length) {\n                    continue;\n                }\n\n                // Check if this is a standard field.\n                if (-1 === $.inArray(name, lco_params.standard_woo_checkout_fields)) {\n                    // This is not a standard Woo field, move to our div.\n                    if ('wc_checkout_add_ons' === $('p#' + name + '_field').parent().attr('id')) { // Check if this is an add on field.\n                        if (!checkout_add_ons_moved) {\n                            checkout_add_ons_moved = true;\n                            $('div#wc_checkout_add_ons').appendTo('#lco-extra-checkout-fields');\n                        }\n                    } else if (0 < $('p#' + name + '_field').length) {\n                        if (name === 'shipping_phone') {\n                            lco_wc.shippingPhoneExists = true;\n                        }\n                        if (name === 'shipping_email') {\n                            lco_wc.shippingEmailExists = true;\n                        }\n                        if (name === 'shipping_first_name') {\n                            lco_wc.shippingFirstNameExists = true;\n                        }\n                        if (name === 'shipping_last_name') {\n                            lco_wc.shippingLastNameExists = true;\n                        }\n                        $('p#' + name + '_field').appendTo('#lco-extra-checkout-fields');\n                    } else {\n                        $('input[name=\"' + name + '\"]').closest('p').appendTo('#lco-extra-checkout-fields');\n                    }\n                }\n            }\n        },\n\n        /**\n         * Updates the cart in case of a change in product quantity.\n         */\n        updateCart: function () {\n            lco_wc.lcoSuspend(true);\n            $.ajax({\n                type: 'POST',\n                url: lco_params.update_cart_url,\n                data: {\n                    checkout: lco_wc.cleanupForm($('form.checkout')),\n                    nonce: lco_params.update_cart_nonce\n                },\n                dataType: 'json',\n                success: function (data) {\n                },\n                error: function (data) {\n                },\n                complete: function (data) {\n                    $('body').trigger('update_checkout');\n                    lco_wc.lcoResume();\n                }\n            });\n        },\n\n        /**\n         * Gets the Ledyer order and starts the order submission\n         */\n        getLedyerOrder: function () {\n            lco_wc.preventPaymentMethodChange = true;\n            $('.woocommerce-checkout-review-order-table').block({\n                message: null,\n                overlayCSS: {\n                    background: '#fff',\n                    opacity: 0.6\n                }\n            });\n\n            var ajax = $.ajax({\n                type: 'POST',\n                url: lco_params.get_ledyer_order_url,\n                data: {\n                    nonce: lco_params.get_ledyer_order_nonce\n                },\n                dataType: 'json',\n                success: function (data) {\n                    lco_wc.setCustomerData(data.data);\n\n                    // Check Terms checkbox, if it exists.\n                    if (0 < $('form.checkout #terms').length) {\n                        $('form.checkout #terms').prop('checked', true);\n                    }\n                },\n                error: function (data) {\n\n                },\n                complete: function (data) {\n                }\n            });\n\n            return ajax;\n        },\n\n\n        /**\n         * Sets the customer data.\n         * @param {array} data\n         */\n        setCustomerData: function (data) {\n            if ('billing_address' in data && data.billing_address !== null) {\n                // Billing fields.\n                'billing_first_name' in data.billing_address ? $('#billing_first_name').val(data.billing_address.billing_first_name) : '';\n                'billing_last_name' in data.billing_address ? $('#billing_last_name').val(data.billing_address.billing_last_name) : '';\n                'billing_company' in data.billing_address ? $('#billing_company').val(data.billing_address.billing_company) : '';\n                'billing_address_1' in data.billing_address ? $('#billing_address_1').val(data.billing_address.billing_address_1) : '';\n                'billing_address_2' in data.billing_address ? $('#billing_address_2').val(data.billing_address.billing_address_2) : '';\n                'billing_city' in data.billing_address ? $('#billing_city').val(data.billing_address.billing_city) : '';\n                'billing_postcode' in data.billing_address ? $('#billing_postcode').val(data.billing_address.billing_postcode) : '';\n                'billing_phone' in data.billing_address ? $('#billing_phone').val(data.billing_address.billing_phone) : '';\n                'billing_email' in data.billing_address ? $('#billing_email').val(data.billing_address.billing_email) : '';\n                'billing_country' in data.billing_address ? $('#billing_country').val(data.billing_address.billing_country.toUpperCase()) : '';\n                'billing_state' in data.billing_address ? $('#billing_state').val(data.billing_address.billing_state) : '';\n                // Trigger changes\n                $('#billing_email').change();\n                $('#billing_email').blur();\n            }\n\n            if ('shipping_address' in data && data.shipping_address !== null) {\n                $('#ship-to-different-address-checkbox').prop('checked', true);\n\n                // Shipping fields.\n                'shipping_first_name' in data.shipping_address ? $('#shipping_first_name').val(data.shipping_address.shipping_first_name) : '';\n                'shipping_last_name' in data.shipping_address ? $('#shipping_last_name').val(data.shipping_address.shipping_last_name) : '';\n                'shipping_company' in data.shipping_address ? $('#shipping_company').val(data.shipping_address.shipping_company) : '';\n                'shipping_address_1' in data.shipping_address ? $('#shipping_address_1').val(data.shipping_address.shipping_address_1) : '';\n                'shipping_address_2' in data.shipping_address ? $('#shipping_address_2').val(data.shipping_address.shipping_address_2) : '';\n                'shipping_city' in data.shipping_address ? $('#shipping_city').val(data.shipping_address.shipping_city) : '';\n                'shipping_postcode' in data.shipping_address ? $('#shipping_postcode').val(data.shipping_address.shipping_postcode) : '';\n                'shipping_country' in data.shipping_address ? $('#shipping_country').val(data.shipping_address.shipping_country.toUpperCase()) : '';\n                'shipping_state' in data.shipping_address ? $('#shipping_state').val(data.shipping_address.shipping_state) : '';\n\n                // extra shipping fields (email, phone, name).\n                if (lco_wc.shippingEmailExists === true && $('#shipping_email')) {\n                    $('#shipping_email').val((('shipping_email' in data.shipping_address) ? data.shipping_address.shipping_email : ''));\n                }\n                if (lco_wc.shippingPhoneExists === true && $('#shipping_phone')) {\n                    $('#shipping_phone').val((('shipping_phone' in data.shipping_address) ? data.shipping_address.shipping_phone : ''));\n                }\n                if (lco_wc.shippingFirstNameExists === true && $('#shipping_first_name')) {\n                    $('#shipping_first_name').val((('shipping_first_name' in data.shipping_address) ? data.shipping_address.shipping_first_name : ''));\n                }\n                if (lco_wc.shippingLastNameExists === true && $('#shipping_last_name')) {\n                    $('#shipping_last_name').val((('shipping_last_name' in data.shipping_address) ? data.shipping_address.shipping_last_name : ''));\n                }\n            }\n        },\n\n        /**\n         * Logs the message to the ledyer checkout log in WooCommerce.\n         * @param {string} message\n         */\n        logToFile: function (message) {\n            $.ajax(\n                {\n                    url: lco_params.log_to_file_url,\n                    type: 'POST',\n                    dataType: 'json',\n                    data: {\n                        message: message,\n                        nonce: lco_params.log_to_file_nonce\n                    }\n                }\n            );\n        },\n\n        /**\n         * Logs messages to the console.\n         * @param {string} message\n         */\n        log: function (message) {\n            if (lco_params.logging) {\n                console.log(message);\n            }\n        },\n\n        /**\n         * Fails the Ledyer order.\n         * @param {string} error_message\n         */\n        failOrder: function (error_message = \"Kunde inte slutföra ordern. Var god försök igen. Om problemet kvarstår, vänligen kontakta kundsupport.\", alert = null) {\n            window.ledyer.api.clientValidation({\n                shouldProceed: false,\n                message: {\n                    title: null, // Use default title in Ledyer checkout\n                    body: error_message\n                }\n            })\n\n            const className = lco_params.pay_for_order ? 'div.woocommerce-notices-wrapper' : 'form.checkout';\n\n            // Update the checkout and reenable the form.\n            $('body').trigger('update_checkout');\n\n            const alert_message = alert ?? error_message;\n            const error_div = `<div class=\"woocommerce-error\">${alert_message}</div>`;\n\n            // Print error messages, and trigger checkout_error, and scroll to notices.\n            $('.woocommerce-NoticeGroup-checkout, .woocommerce-error, .woocommerce-message').remove();\n            $(className).prepend(`<div class=\"woocommerce-NoticeGroup woocommerce-NoticeGroup-checkout\"> ${error_div} </div>`);\n            $(className).removeClass('processing').unblock();\n            $(className).find('.input-text, select, input:checkbox').trigger('validate').blur();\n            $(document.body).trigger('checkout_error', [alert_message]);\n            $('html, body').animate({\n                scrollTop: ($(className).offset().top - 100)\n            }, 1000);\n        },\n\n        cleanupForm: function (formElement) {\n            const $inputs = formElement.find('input, select, textarea');\n            // remove inputs with empty values\n            const $inputsWithValue = $inputs.filter(function() {\n                return $(this).val() !== \"\";\n            });\n            const serializedData = $inputsWithValue.serialize();\n\n            return serializedData;\n        },\n\n        /**\n         * Places the Ledyer order\n         * @param {string} should_validate\n         */\n        placeLedyerOrder: function (should_validate = false) {\n            lco_wc.blocked = true;\n            lco_wc.getLedyerOrder().done(function (response) {\n                if (response.success) {\n                    $('.woocommerce-checkout-review-order-table').block({\n                        message: null,\n                        overlayCSS: {\n                            background: '#fff',\n                            opacity: 0.6\n                        }\n                    });\n\n                    sessionStorage.removeItem('ledyerWooRedirectUrl');\n\n                    $.ajax({\n                        type: 'POST',\n                        url: lco_params.submit_order,\n                        data: lco_wc.cleanupForm($('form.checkout')),\n                        dataType: 'json',\n                        success: function (data) {\n                            // data is an object with the following properties:\n                            // { result: \"success\" | \"failure\"; refresh: \"boolean\", reload: boolean, messages: string; }\n                            try {\n                                if ('success' === data.result) {\n                                    lco_wc.logToFile('Successfully created order in WooCommerce.');\n                                    const url = new URL(data.redirect);\n                                    sessionStorage.setItem('ledyerWooRedirectUrl', url);\n\n                                    if (should_validate) {\n                                        window.ledyer.api.clientValidation({\n                                            shouldProceed: true\n                                        })\n                                        // Ledyer will respond with a new event when order is complete\n                                        // So don't redirect just yet,\n                                        // eventually redirection will happen in ledyerCheckoutOrderComplete\n                                        return;\n                                    }\n                                    window.location.href = url.toString();\n                                } else {\n                                    throw 'Result failed';\n                                }\n                            } catch (err) {\n                                if (data.messages) {\n                                    lco_wc.logToFile('Checkout error | ' + data.messages);\n                                    lco_wc.failOrder(\"Vänligen kontrollera att alla uppgifter är korrekt ifyllda.\", data.messages);\n                                } else {\n                                    lco_wc.logToFile('Checkout error | No message' + err);\n                                    lco_wc.failOrder();\n                                }\n                            }\n                        },\n                        error: function (data) {\n                            try {\n                                lco_wc.logToFile('AJAX error | ' + JSON.stringify(data));\n                            } catch (e) {\n                                lco_wc.logToFile('AJAX error | Failed to parse error message.');\n                            }\n                            lco_wc.failOrder();\n                        }\n                    });\n                } else {\n                    lco_wc.logToFile('Failed to get the order from Ledyer.');\n                    lco_wc.failOrder();\n                }\n            });\n        },\n\n        /**\n         * Initiates the script.\n         */\n        init: function () {\n            $(document).ready(lco_wc.documentReady);\n\n            if (0 < $('form.checkout #terms').length) {\n                $('form.checkout #terms').prop('checked', true);\n            }\n\n            lco_wc.bodyEl.on('update_checkout', lco_wc.lcoSuspend);\n            lco_wc.bodyEl.on('updated_checkout', lco_wc.lcoResume);\n            lco_wc.bodyEl.on('change', 'input.qty', lco_wc.updateCart);\n            lco_wc.bodyEl.on('change', 'input[name=\"payment_method\"]', lco_wc.maybeChangeToLco);\n            lco_wc.bodyEl.on('click', lco_wc.selectAnotherSelector, lco_wc.changeFromLco);\n\n            $(document).on('ledyerCheckoutOrderComplete', function (event) {\n                lco_wc.logToFile('ledyerCheckoutOrderComplete from Ledyer triggered');\n                if (!lco_params.pay_for_order) {\n                    const redirectUrl = sessionStorage.getItem( 'ledyerWooRedirectUrl' );\n                    if (redirectUrl) {\n                        // This means that placeLedyerOrder was called successfully already\n                        // (Due to an earlier call caused by client validation)\n                        window.location.href = redirectUrl;\n                    }\n                }\n            });\n\n            $(document).on('ledyerCheckoutOrderPending', function (event) {\n                lco_wc.logToFile('ledyerCheckoutOrderPending from Ledyer triggered');\n                if (!lco_params.pay_for_order) {\n                    lco_wc.placeLedyerOrder();\n                }\n            });\n\n            $(document).on('ledyerCheckoutWaitingForClientValidation', function (event) {\n                lco_wc.logToFile('ledyerCheckoutWaitingForClientValidation from Ledyer triggered');\n\n                if (lco_params.pay_for_order) {\n                    window.ledyer.api.clientValidation({\n                        shouldProceed: true\n                    })\n                } else {\n                    lco_wc.placeLedyerOrder(true);\n                }\n            });\n        },\n    }\n\n    lco_wc.init();\n});\n"],"sourceRoot":""}